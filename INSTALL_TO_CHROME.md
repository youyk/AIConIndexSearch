# 安装到Chrome浏览器

## ✅ 准备工作已完成

- ✅ 所有源代码已编译
- ✅ 图标文件已创建
- ✅ 所有必需文件已生成

## 📦 已生成的文件

- `manifest.json` - Chrome扩展配置
- `content.js` - 内容脚本（10.8KB）
- `background.js` - 后台脚本（17.9KB）
- `popup.js` - 弹出界面脚本（15.7KB）
- `popup.html` - 弹出界面HTML
- `popup.css` - 弹出界面样式
- `icons/icon16.png` - 16x16图标
- `icons/icon48.png` - 48x48图标
- `icons/icon128.png` - 128x128图标

## 🚀 安装步骤

### 1. 打开Chrome扩展管理页面

在Chrome浏览器中：
- 方法1：地址栏输入 `chrome://extensions/`
- 方法2：菜单 → 更多工具 → 扩展程序

### 2. 开启开发者模式

在扩展管理页面的右上角，找到"开发者模式"开关，将其**开启**。

### 3. 加载扩展

1. 点击"加载已解压的扩展程序"按钮
2. 在弹出的文件选择对话框中，**选择项目根目录**
   - 路径：`/Users/yongkang/projects/cursor/AI assistant`
   - 确保选择的是包含 `manifest.json` 的目录

### 4. 验证安装

安装成功后，你应该看到：
- 扩展列表中显示"AI对话知识库管理"
- 浏览器工具栏出现插件图标（蓝色圆形图标）
- 没有错误提示

## 🎯 首次使用

### 1. 打开插件

点击浏览器工具栏中的插件图标，打开弹出界面。

### 2. 配置域名（可选）

插件默认已配置以下域名：
- ✅ gemini.google.com (Google Gemini)
- ✅ chat.openai.com (ChatGPT)
- ✅ chat.deepseek.com (DeepSeek)
- ✅ claude.ai (Claude)

如果需要添加其他域名：
1. 点击设置按钮（⚙️）
2. 在"域名配置"中添加新域名
3. 确保域名已启用（复选框已勾选）

### 3. 开始使用

1. **访问AI平台**：
   - 打开新标签页
   - 访问 chat.openai.com 或 gemini.google.com
   - 与AI进行对话

2. **自动捕获**：
   - 插件会自动在后台捕获对话内容
   - 无需任何操作
   - 捕获的对话会立即被索引

3. **搜索对话**：
   - 点击插件图标
   - 在搜索框中输入关键词
   - 查看搜索结果
   - 点击结果查看详情

4. **管理对话**：
   - 在详情页面可以：
     - 添加标签
     - 添加笔记
     - 收藏对话
     - 删除对话

5. **导出数据**：
   - 在设置页面点击"导出全部数据"
   - 选择导出格式（JSON/Markdown/HTML/CSV）
   - 文件会自动下载

## 🔧 故障排除

### 插件无法加载

**错误：无法加载扩展程序**

可能原因：
1. manifest.json格式错误
2. 缺少必需文件

解决方法：
- 检查所有必需文件是否都在项目根目录
- 查看Chrome扩展页面的错误信息
- 确保选择的是正确的目录

### 内容捕获不工作

**问题：访问AI平台后没有捕获对话**

可能原因：
1. 域名未配置或未启用
2. 平台适配器无法识别页面结构

解决方法：
1. 检查域名配置：
   - 打开插件设置
   - 确认域名在列表中且已启用
2. 检查浏览器控制台：
   - 按F12打开开发者工具
   - 查看Console标签页
   - 查找以"[AI KB]"开头的日志
3. 检查Background Script：
   - 在扩展管理页面
   - 找到"AI对话知识库管理"
   - 点击"检查视图" → "Service Worker"
   - 查看是否有错误

### 搜索不工作

**问题：搜索没有结果**

可能原因：
1. 没有对话被捕获
2. 搜索关键词不匹配

解决方法：
1. 确认有对话被捕获：
   - 在设置页面查看数据统计
   - 或尝试导出数据查看是否有内容
2. 尝试更宽泛的搜索关键词
3. 清除筛选条件

### 导出失败

**问题：点击导出没有反应**

解决方法：
1. 检查浏览器下载设置
2. 查看浏览器控制台是否有错误
3. 尝试不同的导出格式

## 📝 开发模式

如果需要修改代码：

1. **修改源代码**（在 `src/` 目录）

2. **重新构建**：
   ```bash
   npm run build
   ```

3. **重新加载扩展**：
   - 在Chrome扩展管理页面
   - 找到"AI对话知识库管理"
   - 点击刷新图标（🔄）

或者使用watch模式自动构建：
```bash
npm run watch
```

## ✨ 功能特性

- ✅ 自动捕获AI对话
- ✅ 全文搜索（支持中英文）
- ✅ 筛选和排序
- ✅ 标签和分类
- ✅ 收藏和笔记
- ✅ 多格式导出（JSON/Markdown/HTML/CSV）
- ✅ 域名配置管理
- ✅ 响应式UI设计

## 🎉 完成！

插件已成功安装并可以使用了！

如有任何问题，请查看：
- `QUICKSTART.md` - 快速开始指南
- `INSTALL.md` - 详细安装说明
- `DESIGN.md` - 功能设计文档
